<mat-drawer-container autosize>
  <mat-drawer #drawer mode="side"
              [ngClass]="{'close-state' : isClosed, 'open-state' : !isClosed}"
              [opened]="!isClosed"
              (closedStart)="isClosed = true"
              (openedStart)="isClosed = false">
    <div class="drawer-title" [ngClass]="{'drawer-title-mini-state': isClosed}">
        <div class="name">
          <span class="name-icon" (click)="drawer.toggle()">T-T</span>
          <span class="name-text">Tea Talk</span>
        </div>
        <mat-icon (click)="drawer.toggle()">menu</mat-icon>
    </div>
    <mat-selection-list #shoes [multiple]="false">
      <div *ngFor="let parentOption of data" [ngClass]="{'selected': parentOption.is_expanded}">

        <mat-list-option [value]="parentOption.name" (click)="expandList(parentOption)">
          <div class="option-text">
            <mat-icon class="option-icon">{{parentOption.icon}}</mat-icon>
            <span [ngClass]="{'mini-state': isClosed}">{{parentOption.name}}</span>
          </div>
          <mat-icon *ngIf="parentOption.children" class="icon-status" [ngClass]="{'mini-state': isClosed}">
            {{parentOption.is_expanded ? 'expand_more' : 'chevron_right'}}
          </mat-icon>
        </mat-list-option>
        <div class="child-option" [ngClass]="{'expand': parentOption.is_expanded}">
          <mat-list-option class="option " *ngFor="let childOption of parentOption.children" [value]="childOption.name">
            <div [ngClass]="{'padding-left': !isClosed, 'option-text': true}">
              <mat-icon class="option-icon">{{parentOption.icon}}</mat-icon>
              <span [ngClass]="{'mini-state': isClosed}">{{childOption.name}}</span>
            </div>
          </mat-list-option>
        </div>
      </div>
    </mat-selection-list>
  </mat-drawer>


</mat-drawer-container>
